{"remainingRequest":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\UserAuth.vue","mtime":1630594646000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiQzovVXNlcnMvVFJBQkFKTy9Eb3dubG9hZHMvZnJvbnRHYW1lbG9hZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1RSQUJBSk8vRG93bmxvYWRzL2Zyb250R2FtZWxvYWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF90ZW1wbGF0ZU9iamVjdDsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJBdXRoIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9pbjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByb2Nlc3NBdXRoVXNlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Byb2Nlc3NBdXRoVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgICAgICAgICAgbXV0YXRpb246IGdxbChfdGVtcGxhdGVPYmplY3QgfHwgKF90ZW1wbGF0ZU9iamVjdCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb24gKCRhdXRoZW50aWNhdGVDcmVkZW50aWFsczogQ3JlZGVudGlhbHNJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZShjcmVkZW50aWFsczogJGF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9Il0pKSksCiAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzOiB0aGlzLnVzZXJfaW4KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0LmRhdGEuYXV0aGVudGljYXRlOwogICAgICAgICAgICAgICAgICBkYXRhLnVzZXJfaWQgPSBqd3RfZGVjb2RlKGRhdGEuYWNjZXNzKS51c2VyX2lkLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgIjAiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdsb2ctaW4nLCBkYXRhLCBfdGhpcy51c2VyX2luLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBhbGVydCgiRWwgdXN1YXJpbyB5L28gY29udHJhc2XDsWEgc29uIGluY29ycmVjdG9zIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NBdXRoVXNlcigpIHsKICAgICAgICByZXR1cm4gX3Byb2Nlc3NBdXRoVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvY2Vzc0F1dGhVc2VyOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\UserAuth.vue"],"names":[],"mappings":";;;;;;;;;AAqBA,OAAO,GAAP,MAAgB,aAAhB;AACA,OAAO,UAAP,MAAuB,YAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAGX,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,OAAO,EAAE;AACL,QAAA,QAAQ,EAAC,EADJ;AAEL,QAAA,QAAQ,EAAC;AAFJ;AADN,KAAP;AAMH,GAVU;AAYX,EAAA,OAAO,EAAE;AACL,IAAA,eAAe;AAAA,qFAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACP,KAAK,OAAL,CAAa,MAAb,CAAoB;AACtB,kBAAA,QAAQ,EAAE,GAAF,6VADc;AAQtB,kBAAA,SAAS,EAAE;AACP,oBAAA,uBAAuB,EAAE,KAAK;AADvB;AARW,iBAApB,EAYH,IAZG,CAYE,UAAC,MAAD,EAAY;AAEhB,sBAAI,IAAG,GAAI,MAAM,CAAC,IAAP,CAAY,YAAvB;AACA,kBAAA,IAAI,CAAC,OAAL,GAAe,UAAU,CAAC,IAAI,CAAC,MAAN,CAAV,CAAwB,OAAxB,CAAgC,QAAhC,GAA2C,QAA3C,CAAoD,CAApD,EAAuD,GAAvD,CAAf;;AAEA,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX,EAAqB,IAArB,EAA2B,KAAI,CAAC,OAAL,CAAa,QAAxC;AAEH,iBAnBK,EAmBH,KAnBG,CAmBG,UAAC,KAAD,EAAW;AAChB,kBAAA,KAAK,CAAC,2CAAD,CAAL;AACH,iBArBK,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADV;AAZE,CAAf","sourcesContent":["<template>\n    <div id=\"AuthUser\" class=\"auth_user\">\n        \n        <div class=\"container_auth_user\">\n            <h2>Autenticarse</h2>\n\n            <form v-on:submit.prevent=\"processAuthUser\" >\n                <input type=\"text\" v-model=\"user_in.username\" placeholder=\"Username\">\n                <br>\n                <input type=\"password\" v-model=\"user_in.password\" placeholder=\"Password\">\n                <br>\n            <button type=\"submit\">Iniciar Sesion</button>\n            </form>\n            <p>No tienes cuenta. Da click</p>\n            <button id=\"create\" v-on:click=\"$router.push({name:'newuser'})\"> Crear mi Cuenta </button>\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\nimport jwt_decode from \"jwt-decode\"\n\nexport default {\n    name: \"UserAuth\",\n    \n    data: function(){\n        return {\n            user_in: {\n                username:\"\",\n                password:\"\"\n            }\n        }\n    },\n\n    methods: {\n        processAuthUser: async function(){\n            await this.$apollo.mutate({\n                mutation: gql`\n                    mutation ($authenticateCredentials: CredentialsInput!) {\n                        authenticate(credentials: $authenticateCredentials) {\n                            refresh\n                            access\n                        }\n                    }`,\n                variables: {\n                    authenticateCredentials: this.user_in\n                }\n\n            }).then((result) => {\n\n                let data = result.data.authenticate\n                data.user_id = jwt_decode(data.access).user_id.toString().padStart(3, \"0\")\n                \n                this.$emit('log-in', data, this.user_in.username)\n            \n            }).catch((error) => {\n                alert(\"El usuario y/o contrase√±a son incorrectos\")\n            });\n        }\n    }\n}\n</script>\n\n<style>\n    .auth_user{\n        margin: 0;\n        padding: 0%;\n        height: 100%;\n        width: 100%;\n    \n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n    }\n\n    .container_auth_user {\n        border: 3px solid  #283747;\n        border-radius: 10px;\n        width: 25%;\n        height: 60%;\n        \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    #create{\n        width: 50%;\n    }\n\n    .auth_user h2{\n        color: #283747;\n\n    }\n\n    .auth_user form{\n        width: 50%;\n        \n    }\n\n    .auth_user input{\n        height: 40px;\n        width: 100%;\n\n        box-sizing: border-box;\n        padding: 10px 20px;\n        margin: 5px 0;\n\n        border: 1px solid #283747;\n        \n    }\n\n    .auth_user button{\n        width: 100%;\n        height: 40px;\n\n        color: #E5E7E9;\n        background: #283747;\n        border: 1px solid #E5E7E9;\n\n        border-radius: 5px;\n        padding: 10px 25px;\n        margin: 5px 0;\n    }\n\n    .auth_user button:hover{\n        color: #E5E7E9;\n        background: crimson;\n        border: 1px solid #283747;\n    }\n</style>"],"sourceRoot":""}]}