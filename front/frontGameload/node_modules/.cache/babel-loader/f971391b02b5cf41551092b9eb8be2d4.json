{"remainingRequest":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Car.vue?vue&type=template&id=1f929bd4","dependencies":[{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Car.vue","mtime":1630594646000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZyB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGlkOiAiQ2Fycml0byIKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRyIiwgbnVsbCwgWy8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJQcm9kdWN0byBJZCIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiTm9tYnJlIGRlbCBwcm9kdWN0byIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiQ2FudGlkYWQiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlByZWNpbyIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiRGlzbWludWlyIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJFbGltaW5hciIpXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSBbIm9uQ2xpY2siXTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgY2xhc3M6ICJmYXMgZmEtbWludXMiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gW19ob2lzdGVkXzRdOwp2YXIgX2hvaXN0ZWRfNiA9IFsib25DbGljayJdOwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICBjbGFzczogImZhcyBmYS10cmFzaCIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSBbX2hvaXN0ZWRfN107CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgbnVsbCwgW19ob2lzdGVkXzIsIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5jYXJyaXRvQnlVc3VhcmlvSWQsIGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ciIsIHsKICAgICAga2V5OiBwcm9kdWN0LnByb2R1Y3RvX2lkCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKHByb2R1Y3QucHJvZHVjdG9JZCksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhwcm9kdWN0LnByb2R1Y3RvTm9tYnJlKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKHByb2R1Y3QucHJvZHVjdG9DYW50aWRhZCksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgIiQiICsgX3RvRGlzcGxheVN0cmluZyhwcm9kdWN0LnByb2R1Y3RvUHJlY2lvKSArICIgQ09QIiwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5yZW1vdmUocHJvZHVjdCk7CiAgICAgIH0KICAgIH0sIF9ob2lzdGVkXzUsIDgKICAgIC8qIFBST1BTICovCiAgICAsIF9ob2lzdGVkXzMpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMuZGVsKHByb2R1Y3QucHJvZHVjdG9JZCk7CiAgICAgIH0KICAgIH0sIF9ob2lzdGVkXzgsIDgKICAgIC8qIFBST1BTICovCiAgICAsIF9ob2lzdGVkXzYpXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIG51bGwsICJUb3RhbDogJCAiICsgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy50b3RhbCgpKSArICIgQ09QIiwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICBjbGFzczogImNvbmZpcm0iLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5jb25maXJtICYmICRvcHRpb25zLmNvbmZpcm0uYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICJDb25maXJtYXIgY2Fycml0byIpXSk7Cn0="},{"version":3,"sources":["C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Car.vue"],"names":[],"mappings":";;AACO,EAAA,EAAE,EAAC;;;8BAEJ,mBAAA,CAOK,IAPL,EAOK,IAPL,EAOK,C,aANH,mBAAA,CAAoB,IAApB,EAAoB,IAApB,EAAI,aAAJ,CAMG,E,aALH,mBAAA,CAA4B,IAA5B,EAA4B,IAA5B,EAAI,qBAAJ,CAKG,E,aAJH,mBAAA,CAAiB,IAAjB,EAAiB,IAAjB,EAAI,UAAJ,CAIG,E,aAHH,mBAAA,CAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,CAGG,E,aAFH,mBAAA,CAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,CAEG,E,aADH,mBAAA,CAAiB,IAAjB,EAAiB,IAAjB,EAAI,UAAJ,CACG,CAPL,E;;AAAA,C;;;;8BAc2C,mBAAA,CAA4B,GAA5B,EAA4B;AAAzB,EAAA,KAAK,EAAC;AAAmB,CAA5B,EAAuB,IAAvB,EAAuB,CAAA;AAAA;AAAvB,C;;kBAAA,U;;;8BACQ,mBAAA,CAA4B,GAA5B,EAA4B;AAAzB,EAAA,KAAK,EAAC;AAAmB,CAA5B,EAAuB,IAAvB,EAAuB,CAAA;AAAA;AAAvB,C;;kBAAA,U;;uBAjBvD,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBJ,mBAAA,CAkBQ,OAlBR,EAkBQ,IAlBR,EAkBQ,CAjBN,UAiBM,G,kBARN,mBAAA,CAOK,SAPL,EAOK,IAPL,EAOK,WAAA,CAPiB,IAAA,CAAA,kBAOjB,EAPmC,UAA7B,OAA6B,EAAtB;yBAAlB,mBAAA,CAOK,IAPL,EAOK;AAPsC,MAAA,GAAG,EAAE,OAAO,CAAC;AAOnD,KAPL,E,CACE,mBAAA,CAAgC,IAAhC,EAAgC,IAAhC,EAAgC,gBAAA,CAAzB,OAAO,CAAC,UAAiB,CAAhC,EAAyB;AAAA;AAAzB,K,EACA,mBAAA,CAAoC,IAApC,EAAoC,IAApC,EAAoC,gBAAA,CAA7B,OAAO,CAAC,cAAqB,CAApC,EAA6B;AAAA;AAA7B,K,EACA,mBAAA,CAAsC,IAAtC,EAAsC,IAAtC,EAAsC,gBAAA,CAA/B,OAAO,CAAC,gBAAuB,CAAtC,EAA+B;AAAA;AAA/B,K,EACA,mBAAA,CAA0C,IAA1C,EAA0C,IAA1C,EAAI,MAAC,gBAAA,CAAG,OAAO,CAAC,cAAX,CAAD,GAA6B,MAAjC,EAAqC;AAAA;AAArC,K,EACA,mBAAA,CAAmF,IAAnF,EAAmF,IAAnF,EAAmF,CAA/E,mBAAA,CAA0E,QAA1E,EAA0E;AAA7D,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,MAAA,CAAO,OAAP,CAAF;AAAA;AAAwD,KAA1E,E,UAAA,E;;AAAA,M,UAAA,CAA+E,CAAnF,C,EACA,mBAAA,CAA2F,IAA3F,EAA2F,IAA3F,EAA2F,CAAvF,mBAAA,CAAkF,QAAlF,EAAkF;AAArE,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,GAAA,CAAI,OAAO,CAAC,UAAZ,CAAF;AAAA;AAAgE,KAAlF,E,UAAA,E;;AAAA,M,UAAA,CAAuF,CAA3F,C,CANF,C;GAOK,CAPL,E;;AAAA,GAQM,EAlBR,CAqBI,EAFJ,mBAAA,CAAmC,IAAnC,EAAmC,IAAnC,EAAI,cAAS,gBAAA,CAAG,QAAA,CAAA,KAAA,EAAH,CAAT,GAAsB,MAA1B,EAA8B;AAAA;AAA9B,GAEI,EADJ,mBAAA,CAAuE,QAAvE,EAAuE;AAA/D,IAAA,KAAK,EAAC,SAAyD;AAA1C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,OAAA,IAAA,QAAA,CAAA,OAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAqC,GAAvE,EAA6C,mBAA7C,CACI,CAtBN,C","sourcesContent":["<template>\n  <div id=\"Carrito\">\n    <table>\n      <tr>\n        <th>Producto Id</th>\n        <th>Nombre del producto</th>\n        <th>Cantidad</th>\n        <th>Precio</th>\n        <th>Disminuir</th>\n        <th>Eliminar</th>\n      </tr>\n\n      <tr v-for=\"product in carritoByUsuarioId\" :key=\"product.producto_id\">\n        <td>{{ product.productoId}}</td>\n        <td>{{ product.productoNombre}}</td>\n        <td>{{ product.productoCantidad}}</td>\n        <td>${{ product.productoPrecio }} COP</td>\n        <td><button v-on:click=\"remove(product)\"><i class=\"fas fa-minus\"></i></button></td>\n        <td><button v-on:click=\"del(product.productoId)\"><i class=\"fas fa-trash\"></i></button></td>\n      </tr>\n    </table>\n    <h2>Total: $ {{ total() }} COP</h2>\n    <button class=\"confirm\" v-on:click=\"confirm\">Confirmar carrito</button>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nexport default {\n  name: \"Car\",\n\n  data: function () {\n    return {\n      usuarioId: localStorage.getItem(\"user_id\"),\n      carritoByUsuarioId: [],\n      crearOrdenUsuarioId: \"null\",\n      disminuirProductoByCarritoCarrito: {\n        carrito_id: \"\",\n        usuarioId: \"\",\n        productoId: \"\",\n        productoNombre: \"\",\n        productoCantidad: \"\",\n        productoPrecio: \"\",\n      },\n      eliminarProductoCarritoByUsuarioIdAndProductoIdProductoId: {\n        productoId: \"\",\n      },\n    };\n  },\n\n  created: function () {\n    this.username = this.$route.params.username;\n  },\n\n  apollo: {\n    carritoByUsuarioId: {\n      query: gql`\n        query Query($carritoByUsuarioIdUsuarioId: String!) {\n          carritoByUsuarioId(usuarioId: $carritoByUsuarioIdUsuarioId) {\n            carrito_id\n            usuarioId\n            productoId\n            productoNombre\n            productoCantidad\n            productoPrecio\n          }\n        }\n      `,\n      variables() {\n        return {\n          carritoByUsuarioIdUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n        };\n      },\n    },\n  },\n\n  methods:{\n    total: function(){\n      let suma = 0;\n      this.carritoByUsuarioId.forEach((item) => {\n        suma += (item.productoCantidad * item.productoPrecio);\n      });\n      return suma;\n    },\n\n    confirm: async function(){\n    await this.$apollo\n      .mutate({\n        mutation: gql`\n          mutation CrearOrdenMutation($crearOrdenUsuarioId: String!) {\n            crearOrden(usuarioId: $crearOrdenUsuarioId) {\n              fechaCompra\n              codigoOrden\n              usuarioId\n              productoCantidad\n              productoPrecio\n              estado\n            }\n          }\n        `,  \n        variables:{\n          crearOrdenUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n        },\n      })\n      .then((result) => {\n        alert(\"Carrito confirmado\")\n      })\n      .catch((error) => {\n          alert(\"Error\");\n      });\n    },\n\n    remove: async function(producto){\n    this.disminuirProductoByCarritoCarrito.carrito_id = producto.carrito_id\n    this.disminuirProductoByCarritoCarrito.usuarioId = producto.usuarioId\n    this.disminuirProductoByCarritoCarrito.productoId = producto.productoId\n    this.disminuirProductoByCarritoCarrito.productoNombre = producto.productoNombre\n    this.disminuirProductoByCarritoCarrito.productoCantidad = producto.productoCantidad\n    this.disminuirProductoByCarritoCarrito.productoPrecio = producto.productoPrecio\n    await this.$apollo\n      .mutate({\n        mutation: gql`\n          mutation ($disminuirProductoByCarritoCarrito: CarritoInput!) {\n            disminuirProductoByCarrito(carrito: $disminuirProductoByCarritoCarrito) {\n              carrito_id\n              usuarioId\n              productoId\n              productoNombre\n              productoCantidad\n              productoPrecio\n            }\n          }\n        `,  \n        variables:{\n          disminuirProductoByCarritoCarrito: this.disminuirProductoByCarritoCarrito,\n        },\n      })\n      .then((result) => {\n        alert(\"Reducción de producto exitoso\")\n      })\n      .catch((error) => {\n          alert(\"Error\");\n      });\n    },\n\n    del: async function(productoId){\n    this.eliminarProductoCarritoByUsuarioIdAndProductoIdProductoId.productoId = productoId\n    await this.$apollo\n      .mutate({\n        mutation: gql`\n          mutation Mutation($eliminarProductoCarritoByUsuarioIdAndProductoIdUsuarioId: String!, $eliminarProductoCarritoByUsuarioIdAndProductoIdProductoId: String!) {\n            eliminarProductoCarritoByUsuarioIdAndProductoId(usuarioId: $eliminarProductoCarritoByUsuarioIdAndProductoIdUsuarioId, productoId: $eliminarProductoCarritoByUsuarioIdAndProductoIdProductoId)\n          }\n        `,  \n        variables:{\n          eliminarProductoCarritoByUsuarioIdAndProductoIdUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n          eliminarProductoCarritoByUsuarioIdAndProductoIdProductoId: productoId,\n        },\n      })\n      .then((result) => {\n        alert(\"Producto eliminado de forma exitosa\")\n      })\n      .catch((error) => {\n          alert(\"Error\");\n      });\n    },\n  },\n};\n\n</script>\n\n<style>\n#Carrito {\n  width: 100%;\n  height: 120%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n#Carrito table {\n  width: 50%;\n  border-collapse: collapse;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 20px;\n  text-align: center;\n  align-items: center;\n}\n\n#Carrito table td,\n#Carrito table th {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: center;\n}\n\n#Carrito table tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#Carrito table tr:hover {\n  background-color: #ddd;\n}\n\n#Carrito table th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: crimson;\n  color: white;\n}\n\n.confirm{\n  width: 15vw;\n  height: 5vh;\n  background: #00669F;\n  color: white;\n  border-radius: 10px;\n  margin: 10px;\n}\n\n.confirm:hover{\n    background-color:gray;\n}\n</style>"],"sourceRoot":""}]}