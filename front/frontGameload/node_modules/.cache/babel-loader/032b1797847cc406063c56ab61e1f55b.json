{"remainingRequest":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Order.vue?vue&type=template&id=5121c764","dependencies":[{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Order.vue","mtime":1630594646000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Downloads\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jayB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGlkOiAiT3JkZXIiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY29udGVuZWRvcl9mYWN0dXJhIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsICJHcmFjaWFzIHBvciBlbGVnaXJub3MgcGFyYSByZWFsaXphciBzdXMgY29tcHJhcywgZXN0YSBlcyBzdSBvcmRlbjoiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJGZWNoYSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIkNvZGlnbyBvcmRlbiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInRoIiwgbnVsbCwgIlByb2R1Y3RvIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGgiLCBudWxsLCAiQ2FudGlkYWQiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ0aCIsIG51bGwsICJQcmVjaW8iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImJvdG9uZXMiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICJRdWVyaWRvIHVzdWFyaW8gIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC51c2VybmFtZSkgKyAiLCAiLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzMsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgbnVsbCwgW19ob2lzdGVkXzQsIF9ob2lzdGVkXzUsIF9ob2lzdGVkXzYsIF9ob2lzdGVkXzcsIF9ob2lzdGVkXzgsIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5vcmRlbkJ5VXN1YXJpb0lkLCBmdW5jdGlvbiAob3JkKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJ0ciIsIHsKICAgICAga2V5OiBvcmQucHJvZHVjdG9faWQKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcob3JkLmZlY2hhQ29tcHJhLnN1YnN0cmluZygwLCAxMCkpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcob3JkLmNvZGlnb09yZGVuLnN1YnN0cmluZygwLCA1KSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhvcmQucHJvZHVjdG9Ob21icmUpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcob3JkLnByb2R1Y3RvQ2FudGlkYWQpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsICIkIiArIF90b0Rpc3BsYXlTdHJpbmcob3JkLnByb2R1Y3RvUHJlY2lvKSArICIgQ09QIiwgMQogICAgLyogVEVYVCAqLwogICAgKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImgyIiwgbnVsbCwgIlRvdGFsOiAkICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLnRvdGFsKCkpICsgIiBDT1AiLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAiY29uZmlybSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmNvbmZpcm1PcmRlbihfY3R4Lm9yZGVuQnlVc3VhcmlvSWRbMF0uY29kaWdvT3JkZW4pOwogICAgfSkKICB9LCAiQ29uZmlybWFyIG9yZGVuIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAiY29uZmlybS1kZWwiLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5lbGltaW5hck9yZGVuKF9jdHgub3JkZW5CeVVzdWFyaW9JZFswXS5jb2RpZ29PcmRlbik7CiAgICB9KQogIH0sICJFbGltaW5hciBvcmRlbiIpXSldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\TRABAJO\\Downloads\\frontGameload\\src\\components\\Order.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"Order\">\n    <div class=\"contenedor_factura\">\n      <h3>Querido usuario {{ username }}, </h3>\n      <p>Gracias por elegirnos para realizar sus compras, esta es su orden:</p>\n      <table>\n        <th>Fecha</th>\n        <th>Codigo orden</th>\n        <th>Producto</th>\n        <th>Cantidad</th>\n        <th>Precio</th>\n        <tr v-for=\"ord in ordenByUsuarioId\" :key=\"ord.producto_id\">\n          <td>{{ ord.fechaCompra.substring(0, 10)}}</td>\n          <td>{{ ord.codigoOrden.substring(0,5)}}</td>\n          <td>{{ ord.productoNombre}}</td>\n          <td>{{ ord.productoCantidad}}</td>\n          <td>${{ ord.productoPrecio }} COP</td>\n        </tr>\n      </table>\n      <h2>Total: $ {{ total() }} COP</h2>\n    </div>\n    <div class=\"botones\">\n      <button class=\"confirm\" v-on:click=\"confirmOrden(ordenByUsuarioId[0].codigoOrden)\">Confirmar orden</button>\n      <button class=\"confirm-del\" v-on:click=\"eliminarOrden(ordenByUsuarioId[0].codigoOrden)\">Eliminar orden</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nexport default {\n  name: \"Order\",\n\n  data: function () {\n    return {\n      usuarioId: localStorage.getItem(\"user_id\"),\n      confirmarOrdenUsuarioId: \"null\",\n      confirmarOrdenOrdenId: \"null\",\n      eliminarOrdenByCodigoOrdenUsuarioId: \"null\",\n      eliminarOrdenByCodigoOrdenCodigoOrden: \"null\",\n      ordenByUsuarioId: [],\n    };\n  },\n\n  created: function () {\n    this.username = this.$route.params.username;\n  },\n\n  apollo: {\n    ordenByUsuarioId: {\n      query: gql`\n        query Query($ordenByUsuarioIdUsuarioId: String!) {\n            ordenByUsuarioId(usuarioId: $ordenByUsuarioIdUsuarioId) {\n                orden_id\n                codigoOrden\n                usuarioId\n                fechaCompra\n                productoId\n                productoCantidad\n                productoPrecio\n                productoNombre\n                estado\n            }\n        }\n      `,\n      variables() {\n        return {\n          ordenByUsuarioIdUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n        };\n      },\n    },\n  },\n\n  methods:{\n    total: function(){\n      let suma = 0;\n      this.ordenByUsuarioId.forEach((item) => {\n        suma += item.productoPrecio;\n      });\n      return suma;\n    },\n\n    confirmOrden: async function(codigoOrden){\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation confirmarOrdenByCodigoOrdenMutation($confirmarOrdenUsuarioId: String!, $confirmarOrdenOrdenId: String!) {\n              confirmarOrdenByCodigoOrden(usuarioId: $confirmarOrdenUsuarioId, codigoOrden: $confirmarOrdenOrdenId)\n            }\n          `,  \n          variables:{\n            confirmarOrdenUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n            confirmarOrdenOrdenId: codigoOrden,\n          },\n        })\n        .then((result) => {\n          alert(\"Orden confirmada\")\n        })\n        .catch((error) => {\n            alert(\"Error\");\n        });\n    },\n\n    eliminarOrden: async function(codigoOrden) {\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($eliminarOrdenByCodigoOrdenUsuarioId: String!, $eliminarOrdenByCodigoOrdenCodigoOrden: String!) {\n              eliminarOrdenByCodigoOrden(usuarioId: $eliminarOrdenByCodigoOrdenUsuarioId, codigoOrden: $eliminarOrdenByCodigoOrdenCodigoOrden) \n            }\n          `,  \n        variables:{\n          eliminarOrdenByCodigoOrdenUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n          eliminarOrdenByCodigoOrdenCodigoOrden: codigoOrden,\n        },\n        })\n        .then((result) => {\n          alert(\"Orden elimanada\")\n        })\n        .catch((error) => {\n            alert(\"Error\");\n        });\n    },\n  },\n};\n\n</script>\n\n\n<style>\n.contenedor_factura{\n  width: 70%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 20px;\n  margin-bottom: 1vh;\n}\n\n.botones{\n  display: inline-block;\n}\n\n.confirm-del{\n  width: 15vw;\n  height: 5vh;\n  color: white;\n  border-radius: 10px;\n  margin: 10px;\n  background: crimson;\n}\n\n.confirm-del:hover{\n  background-color:gray;\n}\n#Order {\n  width: 100%;\n  height: 120%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n#Order table {\n  width: 90%;\n  border-collapse: collapse;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 20px;\n}\n\n#Order table td,\n#Order table th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#Order table tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#Order table tr:hover {\n  background-color: #ddd;\n}\n\n#Order table th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: crimson;\n  color: white;\n}\n</style>"],"sourceRoot":""}]}